<div class="p-4">
  <h2 class="text-3xl font-bold text-gray-900 mb-8">Dashboard</h2>

  <!-- Cartes de sondage -->
  <section class="mt-10 space-y-8">

    <div *ngFor="let s of surveys" class="bg-white p-6 rounded-lg shadow">

        <h3 class="text-xl font-bold text-gray-800 mb-1">
            {{ s.title }}
        </h3>
        
        <p>Total rÃ©ponses : <strong>{{ s.stats.total }}</strong></p>
        <p>Oui : <strong>{{ s.stats.yes }}</strong> ({{ s.stats.percentYes }}%)</p>
        <p>Non : <strong>{{ s.stats.no }}</strong> ({{ s.stats.percentNo }}%)</p>

        <!-- Bouton rafraÃ®chir -->
        <button
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition mb-4"
            (click)="refreshSurvey(s.sheetId)"
            [disabled]="loadingId === s.sheetId"
        >
            <span *ngIf="loadingId !== s.sheetId">ğŸ”„ RafraÃ®chir</span>
            <span *ngIf="loadingId === s.sheetId">â³ Importâ€¦</span>
        </button>

        <!-- Graphique -->
        <app-survey-chart [stats]="s.stats"></app-survey-chart>

        </div>

  </section>
</div>
