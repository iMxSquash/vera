<!-- FULL WRAPPER -->
<div class="flex min-h-screen w-full bg-vera-pattern bg-cover bg-center bg-no-repeat font-fustat">

    

    <!-- CONTENU PRINCIPAL -->
    <main class="flex-1 p-10 overflow-y-auto">

        <!-- HEADER -->
        <div class="mb-10">
            <h1 class="text-5xl font-extrabold text-gray-900 tracking-tight font-lastik">
                Admin Dashboard
            </h1>
        </div>

        <!-- LISTE DES SONDAGES -->
        <section class="space-y-8">
            <div *ngFor="let s of surveys" class="bg-white rounded-2xl p-6 shadow hover:shadow-lg transition">

                <h3 class="text-2xl font-bold text-gray-900 font-lastik">
                    {{ s.title }}
                </h3>

                <div class="mt-3 text-gray-700 font-fustat">
                    <p>Total : <strong>{{ s.stats.total }}</strong></p>
                    <p>Oui : <strong>{{ s.stats.yes }}</strong> ({{ s.stats.percentYes }}%)</p>
                    <p>Non : <strong>{{ s.stats.no }}</strong> ({{ s.stats.percentNo }}%)</p>
                </div>

                <button
                    class="mt-5 bg-vera-primary text-white px-5 py-2 rounded-xl font-semibold hover:bg-vera-lightGreen transition active:scale-95 shadow font-fustat"
                    (click)="refreshSurvey(s.sheetId)" [disabled]="loadingId === s.sheetId">
                    <span *ngIf="loadingId !== s.sheetId">üîÑ Rafra√Æchir</span>
                    <span *ngIf="loadingId === s.sheetId">‚è≥ Importation‚Ä¶</span>
                </button>

                <app-survey-chart class="mt-6" [stats]="s.stats"></app-survey-chart>
            </div>
        </section>

    </main>
</div>